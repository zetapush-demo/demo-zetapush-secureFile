{"_type":"macro","description":"","line":1,"steps":[{"_type":"log","description":" trace","line":10,"data":["core_file__requestFileUploadByService",{"__ref":"${contentType}"},{"__ref":"${folder}"}]},{"_type":"call","description":"Request new upload url end point","line":12,"deploymentId":"ref://zpService","verb":"newUploadUrl","parameter":{"contentType":{"__ref":"${contentType}"},"owner":{"__ref":"${owner}"},"path":{"__ref":"${folder}"}},"resultName":"_sv10"},{"_type":"var","description":"Request new upload url end point","line":12,"var":"httpMethod","value":{"__ref":"${_sv10.httpMethod}"}},{"_type":"var","description":"Request new upload url end point","line":12,"var":"guid","value":{"__ref":"${_sv10.guid}"}},{"_type":"var","description":"Request new upload url end point","line":12,"var":"url","value":{"__ref":"${_sv10.url}"}},{"_type":"call","description":"Trigger event","line":14,"deploymentId":"trigger_0","verb":"trigger","parameter":{"event":"ZetaPushEvent__Filesystem_RequestFileUpload","data":{"zpService":{"__ref":"${zpService}"},"upload":{"httpMethod":{"__ref":"${httpMethod}"},"guid":{"__ref":"${guid}"},"url":{"__ref":"${url}"},"owner":{"__ref":"${owner}"}}}}}],"name":"core_file__requestFileUploadByService","channel":"core_file__requestFileUploadByService","result":{"httpMethod":{"__ref":"${httpMethod}"},"guid":{"__ref":"${guid}"},"url":{"__ref":"${url}"},"owner":{"__ref":"${owner}"}},"source":"com.zetapush.core.file|2.0.0:src/impl/upload/requestFileUploadByService.zms","params":[{"name":"contentType","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"folder","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"owner","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"zpfs_hdfs"}}]}],"broadcast":true}