{"deploymentId":"macro_1","macros":[{"_type":"macro","description":"Generic set for stored object api","line":1,"steps":[{"_type":"call","description":"Stored value","line":11,"deploymentId":"ref://zpService","verb":"puts","parameter":{"table":{"__ref":"${table}"},"rows":[{"key":{"__ref":"${id}"},"data":{"Value":{"__ref":"${value}"},"Update":{"__ref":"${time:now()}"}}}]}},{"_type":"call","description":"Set new revision","line":22,"deploymentId":"ref://zpService","verb":"inc","parameter":{"table":{"__ref":"${table}"},"column":"Revision","data":1,"key":{"__ref":"${id}"}}},{"_type":"call","description":"Get created config","line":29,"deploymentId":"macro_1","verb":"func","parameter":{"parameters":{"id":{"__ref":"${id}"},"table":{"__ref":"${table}"},"zpService":{"__ref":"${zpService}"}},"name":"core_utils__getStoredObject","hardFail":true},"resultName":"_sv0"},{"_type":"var","description":"Get created config","line":29,"var":"revision","value":{"__ref":"${_sv0.result.revision}"}},{"_type":"var","description":"Get created config","line":29,"var":"update","value":{"__ref":"${_sv0.result.update}"}}],"name":"core_utils__setStoredObject","channel":"core_utils__setStoredObject","result":{"id":{"__ref":"${id}"},"value":{"__ref":"${value}"},"revision":{"__ref":"${revision}"},"update":{"__ref":"${update}"}},"source":"com.zetapush.core.utils|2.0.0:src/impl/stored/setStoredObject.zms","params":[{"name":"id","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"value","constraints":[{"name":"NotNull"}]},{"name":"table","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"gda"}}]}],"broadcast":true},{"_type":"macro","description":"Generic remove for stored object api","line":1,"steps":[{"_type":"call","description":"Get stored config entry","line":10,"deploymentId":"ref://zpService","verb":"removeRow","parameter":{"key":{"__ref":"${id}"},"table":{"__ref":"${table}"}}}],"name":"core_utils__removeStoredObject","channel":"core_utils__removeStoredObject","result":{"id":{"__ref":"${id}"}},"source":"com.zetapush.core.utils|2.0.0:src/impl/stored/removeStoredObject.zms","params":[{"name":"id","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"table","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"gda"}}]}],"broadcast":true},{"_type":"macro","description":"Generic list for stored object api","line":1,"steps":[{"_type":"lf","var":"_sfc0","f":{"_type":"MacroFunction","result":{"__ref":"${usr:map_entry_key_value('map_entry_key_value',entry)}"},"parameters":[{"name":"entry"}]}},{"_type":"var","description":" defaultPage =","line":9,"var":"defaultPage","value":{"pageNumber":0,"pageSize":100}},{"_type":"var","description":" columns =","line":13,"var":"columns","value":[{"column":"Value"},{"column":"Revision"},{"column":"Update"}]},{"_type":"var","description":"Default page query object","line":21,"var":"page","value":{"__ref":"${obj:elvis('${page}', '${defaultPage}')}"}},{"_type":"call","description":"Get stored config entry","line":23,"deploymentId":"ref://zpService","verb":"list","parameter":{"table":{"__ref":"${table}"},"columns":{"__ref":"${columns}"},"page":{"__ref":"${page}"}},"resultName":"_sv1"},{"_type":"var","description":"Get stored config entry","line":23,"var":"result","value":{"__ref":"${_sv1.result}"}},{"_type":"var","description":"Destructure result properties","line":25,"var":"content","value":{"__ref":"${coll:map(result.content,_sfc0)}"}}],"name":"core_utils__listStoredObject","channel":"core_utils__listStoredObject","result":{"content":{"__ref":"${content}"},"page":{"__ref":"${page}"}},"source":"com.zetapush.core.utils|2.0.0:src/impl/stored/listStoredObject.zms","params":[{"name":"table","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"page","constraints":[{"name":"type","config":{"type":"map"}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"gda"}}]}],"broadcast":true},{"_type":"macro","description":"Generic get for stored object api","line":1,"steps":[{"_type":"call","description":"Get stored config entry","line":10,"deploymentId":"ref://zpService","verb":"get","parameter":{"key":{"__ref":"${id}"},"table":{"__ref":"${table}"}},"resultName":"_sv2"},{"_type":"var","description":"Get stored config entry","line":10,"var":"result","value":{"__ref":"${_sv2.result}"}},{"_type":"var","description":"Destructure result properties","line":15,"var":"value","value":{"__ref":"${result['Value']}"}},{"_type":"var","description":" revision =","line":16,"var":"revision","value":{"__ref":"${result['Revision']}"}},{"_type":"var","description":" update =","line":17,"var":"update","value":{"__ref":"${result['Update']}"}}],"name":"core_utils__getStoredObject","channel":"core_utils__getStoredObject","result":{"id":{"__ref":"${id}"},"value":{"__ref":"${value}"},"revision":{"__ref":"${revision}"},"update":{"__ref":"${update}"},"result":{"__ref":"${result}"}},"source":"com.zetapush.core.utils|2.0.0:src/impl/stored/getStoredObject.zms","params":[{"name":"id","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"table","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"gda"}}]}],"broadcast":true},{"_type":"macro","description":"","line":1,"steps":[{"_type":"log","description":" trace","line":10,"data":["core_file__requestFileUploadByService",{"__ref":"${contentType}"},{"__ref":"${folder}"}]},{"_type":"call","description":"Request new upload url end point","line":12,"deploymentId":"ref://zpService","verb":"newUploadUrl","parameter":{"contentType":{"__ref":"${contentType}"},"owner":{"__ref":"${owner}"},"path":{"__ref":"${folder}"}},"resultName":"_sv10"},{"_type":"var","description":"Request new upload url end point","line":12,"var":"httpMethod","value":{"__ref":"${_sv10.httpMethod}"}},{"_type":"var","description":"Request new upload url end point","line":12,"var":"guid","value":{"__ref":"${_sv10.guid}"}},{"_type":"var","description":"Request new upload url end point","line":12,"var":"url","value":{"__ref":"${_sv10.url}"}},{"_type":"call","description":"Trigger event","line":14,"deploymentId":"trigger_0","verb":"trigger","parameter":{"event":"ZetaPushEvent__Filesystem_RequestFileUpload","data":{"zpService":{"__ref":"${zpService}"},"upload":{"httpMethod":{"__ref":"${httpMethod}"},"guid":{"__ref":"${guid}"},"url":{"__ref":"${url}"},"owner":{"__ref":"${owner}"}}}}}],"name":"core_file__requestFileUploadByService","channel":"core_file__requestFileUploadByService","result":{"httpMethod":{"__ref":"${httpMethod}"},"guid":{"__ref":"${guid}"},"url":{"__ref":"${url}"},"owner":{"__ref":"${owner}"}},"source":"com.zetapush.core.file|2.0.0:src/impl/upload/requestFileUploadByService.zms","params":[{"name":"contentType","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"folder","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"owner","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"zpfs_hdfs"}}]}],"broadcast":true},{"_type":"macro","description":"","line":1,"steps":[{"_type":"log","description":" trace","line":10,"data":["core_file__getFileEntryListByService",{"__ref":"${folder}"},{"__ref":"${owner}"}]},{"_type":"call","description":"List uploaded files","line":12,"deploymentId":"ref://zpService","verb":"ls","parameter":{"folder":{"__ref":"${folder}"},"owner":{"__ref":"${owner}"},"page":{"__ref":"${page}"}},"resultName":"_sv11"},{"_type":"var","description":"List uploaded files","line":12,"var":"exists","value":{"__ref":"${_sv11.exists}"}},{"_type":"var","description":"List uploaded files","line":12,"var":"entries","value":{"__ref":"${_sv11.entries}"}}],"name":"core_file__getFileEntryListByService","channel":"core_file__getFileEntryListByService","result":{"exists":{"__ref":"${exists}"},"folder":{"__ref":"${folder}"},"entries":{"__ref":"${entries}"},"owner":{"__ref":"${owner}"}},"source":"com.zetapush.core.file|2.0.0:src/impl/upload/getFileEntryListByService.zms","params":[{"name":"folder","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"owner","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"page","constraints":[{"name":"type","config":{"type":"map"}},{"name":"__default","config":{"__default":{"pageSize":100,"pageNumber":0}}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"zpfs_hdfs"}}]}]},{"_type":"macro","description":"","line":1,"steps":[{"_type":"log","description":" trace","line":9,"data":["core_file__getFileEntryByService",{"__ref":"${path}"},{"__ref":"${owner}"}]},{"_type":"call","description":"List uploaded files","line":11,"deploymentId":"ref://zpService","verb":"stat","parameter":{"path":{"__ref":"${path}"},"owner":{"__ref":"${owner}"}},"resultName":"_sv12"},{"_type":"var","description":"List uploaded files","line":11,"var":"entry","value":{"__ref":"${_sv12.entry}"}},{"_type":"var","description":"Test if file exists","line":13,"var":"exists","value":{"__ref":"${obj:notnull('${entry}')}"}}],"name":"core_file__getFileEntryByService","channel":"core_file__getFileEntryByService","result":{"exists":{"__ref":"${exists}"},"entry":{"__ref":"${entry}"}},"source":"com.zetapush.core.file|2.0.0:src/impl/upload/getFileEntryByService.zms","params":[{"name":"path","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"owner","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"zpfs_hdfs"}}]}]},{"_type":"macro","description":"","line":1,"steps":[{"_type":"log","description":" trace","line":12,"data":["core_file__confirmFileUploadByService",{"__ref":"${guid}"},{"__ref":"${owner}"},{"__ref":"${actions}"}]},{"_type":"call","description":"Confirm file upload","line":14,"deploymentId":"ref://zpService","verb":"newFile","parameter":{"guid":{"__ref":"${guid}"},"owner":{"__ref":"${owner}"},"metadata":{"__ref":"${metadata}"}},"resultName":"_sv13"},{"_type":"var","description":"Confirm file upload","line":14,"var":"type","value":{"__ref":"${_sv13.type}"}},{"_type":"var","description":"Confirm file upload","line":14,"var":"name","value":{"__ref":"${_sv13.name}"}},{"_type":"var","description":"Confirm file upload","line":14,"var":"creation","value":{"__ref":"${_sv13.creation}"}},{"_type":"var","description":"Confirm file upload","line":14,"var":"url","value":{"__ref":"${_sv13.url}"}},{"_type":"call","description":"Trigger event","line":16,"deploymentId":"trigger_0","verb":"trigger","parameter":{"event":"ZetaPushEvent__Filesystem_ConfirmFileUpload","data":{"zpService":{"__ref":"${zpService}"},"actions":{"__ref":"${actions}"},"file":{"tags":{"__ref":"${tags}"},"type":{"__ref":"${type}"},"name":{"__ref":"${name}"},"metadata":{"__ref":"${metadata}"},"creation":{"__ref":"${creation}"},"url":{"__ref":"${url}"},"owner":{"__ref":"${owner}"}}}}}],"name":"core_file__confirmFileUploadByService","channel":"core_file__confirmFileUploadByService","result":{"tags":{"__ref":"${tags}"},"type":{"__ref":"${type}"},"name":{"__ref":"${name}"},"metadata":{"__ref":"${metadata}"},"creation":{"__ref":"${creation}"},"url":{"__ref":"${url}"},"owner":{"__ref":"${owner}"}},"source":"com.zetapush.core.file|2.0.0:src/impl/upload/confirmFileUploadByService.zms","params":[{"name":"guid","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"owner","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"actions","constraints":[{"name":"type","config":{"type":"map"}},{"name":"__default","config":{"__default":{}}}]},{"name":"metadata","constraints":[{"name":"type","config":{"type":"map"}},{"name":"__default","config":{"__default":{}}}]},{"name":"tags","constraints":[{"name":"type","config":{"type":"array"}},{"name":"__default","config":{"__default":[]}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"zpfs_hdfs"}}]}],"broadcast":true},{"_type":"macro","description":"","line":1,"steps":[],"name":"core_file__onThumbnailCallback","channel":"core_file__onThumbnailCallback","result":{"baseFile":{"__ref":"${baseFile}"},"failed":{"__ref":"${failed}"},"thumbnails":{"__ref":"${thumbnails}"}},"source":"com.zetapush.core.file|2.0.0:src/impl/callback/onThumbnailCallback.zms","params":[{"name":"baseFile","constraints":[{"name":"type","config":{"type":"map"}}]},{"name":"failed","constraints":[{"name":"type","config":{"type":"array"}}]},{"name":"thumbnails","constraints":[{"name":"type","config":{"type":"array"}}]}],"broadcast":true},{"_type":"macro","description":"","line":1,"steps":[],"name":"core_file__onRequestFileUploadCallback","channel":"completed","source":"com.zetapush.core.file|2.0.0:src/impl/callback/onRequestFileUpload.zms","params":[{"name":"upload","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"map"}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"zpfs_hdfs"}}]}]},{"_type":"macro","description":"","line":1,"steps":[],"name":"core_file__onConfirmFileUploadCallback","channel":"completed","source":"com.zetapush.core.file|2.0.0:src/impl/callback/onConfirmFileUploadCallback.zms","params":[{"name":"file","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"map"}}]},{"name":"zpService","constraints":[{"name":"NotNull"},{"name":"service","config":{"service":"zpfs_hdfs"}}]}]},{"_type":"macro","description":"Initialize user recipe","line":1,"steps":[{"_type":"exec","description":" fail with 'ERROR__INVALID_GRANT'","line":7,"exec":"${obj:assert((__userKey == 'ZetaPushGlobalOwner'),'ERROR__INVALID_GRANT','no message')}"}],"name":"core_file__initializeRecipeAsGlobalOwner","channel":"completed","source":"com.zetapush.core.file|2.0.0:src/impl/initialize/initializeRecipeAsGlobalOwner.zms"}],"functions":[{"_type":"MacroFunction","description":"Explode a string to an numeric indexed map","line":1,"steps":[{"_type":"var","description":" list =","line":5,"var":"list","value":{}},{"_type":"test","description":" if","line":6,"steps":[{"_type":"var","description":" length =","line":7,"var":"length","value":{"__ref":"${str:len(value)}"}},{"_type":"var","description":" iterations =","line":8,"var":"iterations","value":{"__ref":"${str:join('',math:round(math:floor((length / size))))}"}},{"_type":"var","description":" i =","line":9,"var":"i","value":1},{"_type":"var","description":" start =","line":10,"var":"start","value":0},{"_type":"var","description":" rest =","line":11,"var":"rest","value":{"__ref":"${(length - (i * size))}"}},{"_type":"var","description":" end =","line":12,"var":"end","value":{"__ref":"${((rest < 0) ? length : obj:sum(start, size))}"}},{"_type":"var","description":" split =","line":13,"var":"split","value":{"__ref":"${str:substr(value,start,end)}"}},{"_type":"loop","description":" while loop","line":14,"steps":[{"_type":"exec","description":" list +=","line":15,"exec":"${obj:modify(list,fmt:pad(i,str:len(iterations),0,'.'),split,__fnp_obj_add)}"},{"_type":"var","description":" i +=","line":16,"var":"i","value":{"__ref":"${obj:add(i,1)}"}},{"_type":"var","description":" start +=","line":17,"var":"start","value":{"__ref":"${obj:add(start,size)}"}},{"_type":"test","description":" if","line":18,"steps":[{"_type":"var","description":" split =","line":19,"var":"split","value":""}],"condition":"${(start >= length)}","otherwise":{"_type":"MacroBlock","steps":[{"_type":"var","description":" rest =","line":22,"var":"rest","value":{"__ref":"${(length - (i * size))}"}},{"_type":"var","description":" end =","line":23,"var":"end","value":{"__ref":"${((rest < 0) ? length : obj:sum(start, size))}"}},{"_type":"var","description":" split =","line":24,"var":"split","value":{"__ref":"${str:substr(value,start,end)}"}}]}}],"items":"${coll:test('${(str:len(split) > 0)}')}","var":"_sv9"}],"condition":"${(size > 0)}","otherwise":{"_type":"MacroBlock","steps":[{"_type":"exec","description":" list = ","line":28,"exec":"${obj:assign(list,'0',value)}"}]}}],"name":"explode","result":{"__ref":"${list}"},"parameters":[{"name":"value"},{"name":"size"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/explode.zms"},{"_type":"MacroFunction","description":"","line":1,"steps":[{"_type":"var","description":" string =","line":5,"var":"string","value":{"__ref":"${obj:sum('', value)}"}},{"_type":"var","description":" size =","line":6,"var":"size","value":{"__ref":"${str:len(string)}"}},{"_type":"var","description":" pascalized =","line":7,"var":"pascalized","value":""},{"_type":"test","description":" if","line":8,"steps":[{"_type":"var","description":" pascalized =","line":9,"var":"pascalized","value":{"__ref":"${str:upper(string)}"}}],"condition":"${(size > 1)}","otherwise":{"_type":"MacroBlock","steps":[{"_type":"var","description":" pascalized =","line":11,"var":"pascalized","value":{"__ref":"${obj:sum(str:upper(str:substr(string,0,1)), str:substr(string,1,size))}"}}]}}],"name":"pascalize","result":{"__ref":"${str:rnd36(16)}"},"parameters":[{"name":"value"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/string.zms"},{"_type":"MacroFunction","description":" Function formatPaginatedResult","line":171,"steps":[{"_type":"var","description":" originalPagination =","line":172,"var":"originalPagination","value":{"__ref":"${originalResult.page}"}}],"name":"formatPaginatedResult","result":{"content":{"__ref":"${originalResult.content}"},"page":{"pageNumber":{"__ref":"${originalPagination.pageNumber}"},"pageSize":{"__ref":"${originalPagination.pageSize}"},"direction":{"__ref":"${originalPagination.direction}"},"hasNext":{"__ref":"${hasNextPage}"}}},"parameters":[{"name":"originalResult"},{"name":"hasNextPage"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/pagination.zms"},{"_type":"MacroFunction","description":" Function computePageForHasNext","line":183,"steps":[],"name":"computePageForHasNext","result":{"pageNumber":{"__ref":"${(obj:sum(originalPagination.pageNumber, 1) * originalPagination.pageSize)}"},"pageSize":1,"direction":{"__ref":"${originalPagination.direction}"}},"parameters":[{"name":"originalPagination"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/pagination.zms"},{"_type":"MacroFunction","description":"Implode a list to a flat string","line":1,"steps":[{"_type":"var","description":" imploded =","line":5,"var":"imploded","value":""},{"_type":"loop","description":" For loop on variable entry","line":6,"steps":[{"_type":"var","description":" imploded +=","line":7,"var":"imploded","value":{"__ref":"${obj:add(imploded,entry.value)}"}}],"items":"${list}","var":"entry"}],"name":"implode","result":{"__ref":"${imploded}"},"parameters":[{"name":"list"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/implode.zms"},{"_type":"MacroFunction","description":"Helper function: Hash a string with a given salt","line":1,"steps":[],"name":"hash","result":{"__ref":"${str:hex(str:md5(obj:sum(salt, value)))}"},"parameters":[{"name":"salt"},{"name":"value"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/hash.zms"},{"_type":"MacroFunction","description":"Reduce an array to a map","line":1,"steps":[{"_type":"var","description":" index =","line":5,"var":"index","value":0},{"_type":"var","description":" map =","line":6,"var":"map","value":{}},{"_type":"var","description":" iterations =","line":7,"var":"iterations","value":{"__ref":"${coll:size(array)}"}},{"_type":"var","description":" digits =","line":8,"var":"digits","value":{"__ref":"${str:len(obj:sum('', iterations))}"}},{"_type":"loop","description":" For loop on variable item","line":9,"steps":[{"_type":"var","description":" key =","line":10,"var":"key","value":{"__ref":"${fmt:pad(index,digits,0,'.')}"}},{"_type":"exec","description":" map = ","line":11,"exec":"${obj:assign(map,key,item)}"},{"_type":"var","description":" index +=","line":12,"var":"index","value":{"__ref":"${obj:add(index,1)}"}}],"items":"${array}","var":"item"}],"name":"reduce_array_to_map","result":{"__ref":"${map}"},"parameters":[{"name":"array"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/reduce.zms"},{"_type":"MacroFunction","description":"Reduce a map to an array","line":16,"steps":[{"_type":"var","description":" index =","line":20,"var":"index","value":0},{"_type":"var","description":" array =","line":21,"var":"array","value":[]},{"_type":"loop","description":" For loop on variable item","line":22,"steps":[{"_type":"var","description":" array +=","line":23,"var":"array","value":{"__ref":"${obj:add(array,item.value)}"}}],"items":"${map}","var":"item"}],"name":"reduce_map_to_array","result":{"__ref":"${array}"},"parameters":[{"name":"map"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/reduce.zms"},{"_type":"MacroFunction","description":"Reduce an array to and hash","line":27,"steps":[{"_type":"lf","var":"_sfc1","f":{"_type":"MacroFunction","result":{"__ref":"${((a < b) ? -1 : ((a > b) ? 1 : 0))}"},"parameters":[{"name":"a"},{"name":"b"}]}},{"_type":"var","description":" sorted =","line":31,"var":"sorted","value":{"__ref":"${coll:sort(array,_sfc1)}"}}],"name":"reduce_array_to_hash","result":{"__ref":"${usr:hash('hash',salt,str:join('',sorted))}"},"parameters":[{"name":"array"},{"name":"salt"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/reduce.zms"},{"_type":"MacroFunction","description":"Generate a unique id","line":1,"steps":[],"name":"uuid","result":{"__ref":"${str:rnd36(16)}"},"parameters":[],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/uuid.zms"},{"_type":"MacroFunction","description":"Map a native api object to user object","line":1,"steps":[],"name":"map_entry_key_value","result":{"key":{"__ref":"${entry.key}"},"value":{"__ref":"${entry.value}"}},"parameters":[{"name":"entry"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/map.zms"}],"types":[{"name":"com.zetapush.tuto.upload.target_proof","fields":[{"name":"left","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"parent","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"right","constraints":[{"name":"type","config":{"type":"string"}}]}]},{"name":"com.zetapush.tuto.upload.anchor","fields":[{"name":"id","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"created","constraints":[{"name":"type","config":{"type":"number"}}]},{"name":"lastModified","constraints":[{"name":"type","config":{"type":"number"}}]},{"name":"name","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"hash","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"signedHash","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"pubKey","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"signature","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"identityURL","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"public_","constraints":[{"name":"type","config":{"type":"boolean"}}]},{"name":"tags","constraints":[{"name":"type","config":{"type":"string","array":true}}]},{"name":"metadata","constraints":[{"name":"type","config":{"type":"map"}}]},{"name":"callbackURL","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"status","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"timestamp","constraints":[{"name":"type","config":{"type":"number"}}]},{"name":"confirmations","constraints":[{"name":"type","config":{"type":"number"}}]},{"name":"txId","constraints":[{"name":"type","config":{"type":"string"}}]}]},{"name":"com.zetapush.tuto.upload.signature","fields":[{"name":"signedHash","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"pubKey","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"signature","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"identityURL","constraints":[{"name":"type","config":{"type":"string"}}]}]},{"name":"com.zetapush.tuto.upload.receipt","fields":[{"name":"header","constraints":[{"name":"type","config":{"type":"com.zetapush.tuto.upload.header"}}]},{"name":"target","constraints":[{"name":"type","config":{"type":"com.zetapush.tuto.upload.target"}}]},{"name":"signature","constraints":[{"name":"type","config":{"type":"com.zetapush.tuto.upload.signature"}}]},{"name":"extra","constraints":[{"name":"type","config":{"type":"map"}}]}]},{"name":"com.zetapush.tuto.upload.header","fields":[{"name":"chainpoint_version","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"hash_type","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"merkle_root","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"tx_id","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"timestamp","constraints":[{"name":"type","config":{"type":"number"}}]}]},{"name":"com.zetapush.tuto.upload.target","fields":[{"name":"target_hash","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"target_proof","constraints":[{"name":"type","config":{"type":"com.zetapush.tuto.upload.target_proof"}}]}]}],"globals":{},"purge":true}