{"_type":"MacroFunction","description":"Explode a string to an numeric indexed map","line":1,"steps":[{"_type":"var","description":" list =","line":5,"var":"list","value":{}},{"_type":"test","description":" if","line":6,"steps":[{"_type":"var","description":" length =","line":7,"var":"length","value":{"__ref":"${str:len(value)}"}},{"_type":"var","description":" iterations =","line":8,"var":"iterations","value":{"__ref":"${str:join('',math:round(math:floor((length / size))))}"}},{"_type":"var","description":" i =","line":9,"var":"i","value":1},{"_type":"var","description":" start =","line":10,"var":"start","value":0},{"_type":"var","description":" rest =","line":11,"var":"rest","value":{"__ref":"${(length - (i * size))}"}},{"_type":"var","description":" end =","line":12,"var":"end","value":{"__ref":"${((rest < 0) ? length : obj:sum(start, size))}"}},{"_type":"var","description":" split =","line":13,"var":"split","value":{"__ref":"${str:substr(value,start,end)}"}},{"_type":"loop","description":" while loop","line":14,"steps":[{"_type":"exec","description":" list +=","line":15,"exec":"${obj:modify(list,fmt:pad(i,str:len(iterations),0,'.'),split,__fnp_obj_add)}"},{"_type":"var","description":" i +=","line":16,"var":"i","value":{"__ref":"${obj:add(i,1)}"}},{"_type":"var","description":" start +=","line":17,"var":"start","value":{"__ref":"${obj:add(start,size)}"}},{"_type":"test","description":" if","line":18,"steps":[{"_type":"var","description":" split =","line":19,"var":"split","value":""}],"condition":"${(start >= length)}","otherwise":{"_type":"MacroBlock","steps":[{"_type":"var","description":" rest =","line":22,"var":"rest","value":{"__ref":"${(length - (i * size))}"}},{"_type":"var","description":" end =","line":23,"var":"end","value":{"__ref":"${((rest < 0) ? length : obj:sum(start, size))}"}},{"_type":"var","description":" split =","line":24,"var":"split","value":{"__ref":"${str:substr(value,start,end)}"}}]}}],"items":"${coll:test('${(str:len(split) > 0)}')}","var":"_sv9"}],"condition":"${(size > 0)}","otherwise":{"_type":"MacroBlock","steps":[{"_type":"exec","description":" list = ","line":28,"exec":"${obj:assign(list,'0',value)}"}]}}],"name":"explode","result":{"__ref":"${list}"},"parameters":[{"name":"value"},{"name":"size"}],"source":"com.zetapush.core.utils|2.0.0:src/api/utils/explode.zms"}