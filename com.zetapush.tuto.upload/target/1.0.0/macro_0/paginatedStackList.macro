{"_type":"macro","description":"<p>\n\tRequest the stack service list with optional pagination.\n\tIf pagination is provided, it will determine if there is another available page.\n\t</p>\n\t\n\tThe response must be unwrapped:\n\t<ul>\n\t<li>call response.result.response.result to get the stack result</li>\n\t<li>call response.result.response.request to get original stack request</li>\n\t<li>call response.result.response.result.content to get stack list</li>\n\t<li>call response.result.response.result.page to get result pagination</li>\n\t</ul>\n\t\n\tThe result pagination object will have the following properties:\n\t<ul>\n\t<li>{pageSize}: the result page size (like usually) </li>\n\t<li>{pageNumber}: the result page number (like usually) </li>\n\t<li>{direction}: the result order direction (like usually) </li>\n\t<li><b>{hasNext}</b>: true to indicate if there is one more page available, false otherwise</li>\n\t</ul>\n\t\n\t<p>\n\tIf no pagination is provided, all the elements are loaded so {hasNext} is always false.\n\t</p>\n\t\n\t\n\tExemple of use:\n\t<pre>\n\t\tvar response = call zpRecipeUtils::paginatedStackList({\n\t\t\tstackService: zpServiceStack,\n\t\t\tstack: 'foo',\n\t\t\towner: 'toto',\n\t\t\tpage: { pageSize: 20, pageNumber: 0 }\n\t\t}) hardFail;\n\t\t// unwrap the response\n\t\tvar unwrappedResponse = response.result;\n\t\tfor item in unwrappedResponse.result.content {\n\t\t\ttrace(item);\n\t\t}\n\t\tvar hasNextPage = unwrappedResponse.result.page.hasNext;\n\t</pre>","line":2,"steps":[{"_type":"call","description":" Call api stack.list","line":66,"deploymentId":"ref://stackService","verb":"list","parameter":{"stack":{"__ref":"${stack}"},"owner":{"__ref":"${owner}"},"page":{"__ref":"${page}"}},"resultName":"response"},{"_type":"var","description":" hasNextPage =","line":67,"var":"hasNextPage","value":false},{"_type":"test","description":" if","line":68,"steps":[{"_type":"test","description":" if","line":73,"steps":[{"_type":"call","description":" Call api stack.list","line":75,"deploymentId":"ref://stackService","verb":"list","parameter":{"stack":{"__ref":"${stack}"},"owner":{"__ref":"${owner}"},"page":{"__ref":"${usr:computePageForHasNext('computePageForHasNext',page)}"}},"resultName":"moreResponse"},{"_type":"var","description":" hasNextPage =","line":76,"var":"hasNextPage","value":{"__ref":"${(coll:size(moreResponse.result.content) > 0)}"}}],"condition":"${(coll:size(response.result.content) >= page.pageSize)}"}],"condition":"${(page != null)}"},{"_type":"var","description":"Destructure result properties","line":80,"var":"request","value":{"__ref":"${response.request}"}},{"_type":"var","description":" result =","line":81,"var":"result","value":{"__ref":"${usr:formatPaginatedResult('formatPaginatedResult',response.result,hasNextPage)}"}}],"name":"paginatedStackList","channel":"paginatedStackList","result":{"request":{"__ref":"${request}"},"result":{"__ref":"${result}"}},"source":"com.zetapush.core.utils|2.0.0:src/api/utils/pagination.zms","params":[{"name":"stackService","constraints":[{"name":"service","config":{"service":"stack"}}]},{"name":"stack","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"owner","constraints":[{"name":"type","config":{"type":"string"}},{"name":"__default","config":{"__default":null}}]},{"name":"page","constraints":[{"name":"type","config":{"type":"object"}},{"name":"__default","config":{"__default":null}}]}],"broadcast":true}