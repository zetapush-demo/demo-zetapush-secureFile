{"_type":"macro","description":"","line":1,"steps":[{"_type":"var","description":"Manage default parameters","line":12,"var":"owner","value":{"__ref":"${obj:elvis('${owner}', '${__userKey}')}"}},{"_type":"log","description":" trace","line":13,"data":["confirmFileUpload",{"__ref":"${guid}"},{"__ref":"${owner}"},{"__ref":"${actions}"},{"__ref":"${metadata}"},{"__ref":"${tags}"}]},{"_type":"log","description":" trace","line":15,"data":["grant",{"__ref":"${str:join(':','cr_fl_hdfs',owner,guid)}"}]},{"_type":"call","description":"Confirm file upload","line":18,"deploymentId":"macro_1","verb":"func","parameter":{"parameters":{"guid":{"__ref":"${guid}"},"owner":{"__ref":"${owner}"},"actions":{"__ref":"${actions}"},"metadata":{"__ref":"${metadata}"},"tags":{"__ref":"${tags}"},"zpService":"cr_fl_hdfs"},"name":"core_file__confirmFileUploadByService","hardFail":true},"resultName":"_sv16"},{"_type":"var","description":"Confirm file upload","line":18,"var":"type","value":{"__ref":"${_sv16.result.type}"}},{"_type":"var","description":"Confirm file upload","line":18,"var":"name","value":{"__ref":"${_sv16.result.name}"}},{"_type":"var","description":"Confirm file upload","line":18,"var":"creation","value":{"__ref":"${_sv16.result.creation}"}},{"_type":"var","description":"Confirm file upload","line":18,"var":"url","value":{"__ref":"${_sv16.result.url}"}}],"name":"confirmFileUpload","channel":"confirmFileUpload","result":{"tags":{"__ref":"${tags}"},"type":{"__ref":"${type}"},"name":{"__ref":"${name}"},"metadata":{"__ref":"${metadata}"},"creation":{"__ref":"${creation}"},"url":{"__ref":"${url}"},"owner":{"__ref":"${owner}"}},"source":"com.zetapush.core.file|2.0.0:src/api/upload/confirmFileUpload.zms","params":[{"name":"guid","constraints":[{"name":"NotNull"},{"name":"type","config":{"type":"string"}}]},{"name":"owner","constraints":[{"name":"type","config":{"type":"string"}}]},{"name":"actions","constraints":[{"name":"type","config":{"type":"map"}},{"name":"__default","config":{"__default":{}}}]},{"name":"metadata","constraints":[{"name":"type","config":{"type":"map"}},{"name":"__default","config":{"__default":{}}}]},{"name":"tags","constraints":[{"name":"type","config":{"type":"array"}},{"name":"__default","config":{"__default":[]}}]}],"broadcast":true}